<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>defineProperty</title>
</head>

<body>
    <button>-</button>
    <span v-num>4</span>
    <button id="btn2">+</button>
    <hr>
    <p v-price></p>
    <p v-count></p>
    <p v-uname></p>
    <script>
        btn2.onclick = function () {
            data.num++
        }
        var data = { num: 8, count: 10, price: 100, uname: '神里' }
        // css 的属性选择器: [属性名]

        for (const key in data) {
            document.querySelectorAll(`[v-${key}]`).forEach(el => {
                el.innerHTML = data[key]
            })
        }

        // 监听数据中的属性修改变更
        Object.defineProperties(data, {
            num: {
                get() { return this._num },
                set(value) {
                    this._num = value
                    document.querySelectorAll('[v-num]').forEach(el => {
                        el.innerHTML = data.num
                    })
                }
            },
            _num: { writable: true, value: data.num }
        })

    </script>
</body>

</html>