<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>正则表达式</title>
        <style>
            ul > li {
                display: none;
            }
            ul.ok > li:first-child {
                display: block;
            }
            ul.err > li:last-child {
                display: block;
            }
        </style>
    </head>
    <body>
        <!-- 简称 RegExp -->
        <!-- 是一套通用的  对字符串进行格式化验证的方案 -->
        <!-- 非js专属, 使用正则  需要学习正则元字符 -->
        <input type="text" name="" id="" />
        <ul>
            <li class="ok" style="color: green">手机号正确</li>
            <li class="err" style="color: red">手机号错误</li>
        </ul>
        <script>
            // \d 代表1一个数字 0~9
            // 任务: 让用户输入一些文字,我们从其中找出所有的数字
            const ipt = document.querySelector('input')
            const ul = ipt.nextElementSibling
            const ok = document.querySelector('.ok')
            const err = document.querySelector('.err')
            ipt.onblur = function () {
                // match: 匹配; 从字符串中匹配出符合正则表达式要求的内容
                //   /\d/ :  字面量语法  /正则/ , 把正则符号转为 js 的正则对象
                // g: 修饰符, global  全局匹配,找到所有符合条件的
                const res = this.value.match(/\d/g)
                console.log(res)
                // 手机号格式: 11位  1开头  第二位3-9
                // 正则.test(字符串): 用正则验证字符串是否符合格式要求
                const reg_phone = /^1[3-9]\d{9}$/
                if (reg_phone.test(this.value)) {
                    console.log(this.value, '是手机号')
                    ul.className = 'ok'
                } else {
                    console.log(this.value, '不是手机号')
                    ul.className = 'err'
                }
            }
        </script>
    </body>
</html>
