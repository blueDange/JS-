<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>滚动监听</title>
        <style>
            body {
                margin: 0;
                padding: 0;
            }
        </style>
    </head>
    <body>
        <ul></ul>
        <script>
            const ul = document.querySelector('ul')
            for (let i = 0; i < 200; i++) {
                ul.innerHTML += `<li>${i}</li>`
            }
            addEventListener('scroll', function () {
                // 读取滚动距离顶部的偏移量
                const offsetY =
                    // 版本兼容性 前者低版本 后者高版本
                    document.body.scrollTop ||
                    document.documentElement.scrollTop
                console.log('滚动', offsetY)

                // 判断触底,获取整个页面的高度和滚动的高度对比
                console.log('页面可视区域高度', innerHeight)
                // 页面内容
                console.log(document.body.clientHeight)
                // 设定距离底部50像素 算触底
                const y = offsetY + innerHeight + 50
                if (document.body.clientHeight < y) alert('触底')
            })
        </script>
    </body>
</html>
